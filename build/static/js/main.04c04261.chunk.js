(window.webpackJsonpmyapp=window.webpackJsonpmyapp||[]).push([[0],{24:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQQAAAAsBAMAAABxrtvWAAAAMFBMVEX+/v7///////////////////////////////////////////////////////////9lrsRqAAAAD3RSTlMAEAQmORpKY3yYtsvd6/qBVoyrAAAEL0lEQVRYw+2Xz2sTQRTHJ7vJbtJa6EEQwUrAi/0h5Cjijx68eLDNwYuopRfxILa56amb/2CLJ6VgohcR0ahHBVsVQUEMVRRB6wpRS43pItYkmyau2ezsmze7244H8ZS57Mzs29nPvnnzfW8J6bZu67a/a7Ez508LjQb70UAZFa+6kU207F7VShLm9hZt236e8oZXMsx8Zha6WhYts6UE3dtp2plapY2+uu81s+Hwm52LpH+GqX1m+dKFObPhMUzfYebz7EuKrzBCExad957T3j9wG53oQzbpIMJQC9ZWzWeO6bbiMp0YWWPW66zbqmIEOx9EyPMO77NnN0GQck9gRn/nbsluk3pabcC9nirqfsMI5ZoYoVzdBGFwHXwUb3pL7K+7V+klhMWhx/DgofyVNI6FpZQQofRxdEOESOEuizIImphB41AHB+ZYZOYmx2cRwqfpp0KET9qjDRFOMCfIqyzgpmmYDyzSiUgF7GLfk70ljJBoJIUIQ2DjR5CLV2GcsNi9OA2ChLfP8Tq7VyNxCyNEilkhgjSf3QDhpMU0YWKR3ZOK7mpy0zsbX+DenkUSYz5pI5ADVSECObUWjiAXkcjoSIeIRne7MMmPaRdFRhtBaaWFCAqVBj/C0ToaP8S6tXPBvY7nfR/odg8+xghEzwsRiH4tDEExkRMkfNhJ7y96/emKORMIpcGrhIMwVBcjDFthCFPLaChb+KEE3TrVCgqTx8EQ6CHeFEE2M0GE35VJnLXwppA4faf0sbM9EwtMmBb4jXEQiFbiEb6/6LRRhECmXocgtHAOVTgE1ftsPesLVTcSWbLsICQ6wcYQKkudxiHE15PBjdCWhV4gE07gRZbg7FKNGnjFIUiFWdFGeDY8QtzOiGKBJBwWFQmTxWuWi0B21IQIZMfXkEM5U0MnosydiB8e2bpPmEpUs5IcQrSSEiJEnQzgR1BWUUBy9QyLv0L7uWkkTHT1QoZDIE4eEiAQ/VGIQONjyZVjOgyc1xdSgeJJu8Mj9LTzkAhh2LHxI6isnCE7UY6IFOGl7U1AwhT1iqeBNR4hZmSFCE4+CybrGZancKZE/XYoYmGq+XKph0DGqkIEMvY5BEExwA2yyQJDe8McspQcZ1UsFE8RI8UjqK20EEFt9ocUbihTTUEpHTXQac1lcMUEMeIVVB4CyeWFCCR3LQQhalwEl4Nanqvhw3HvAxOm1X5/eQEIw3UxwogVVsSPNWDVmRX3/nYsWaTHqvmFCYsTIMiGKUSImmYIQtSAAlYxVhw/HDHecn9dNisORn4GzgYgEM0WIrRtQhDI/gb4+bjRunH5lr3Szy0wnw0IE1IIhpCw/WnKy1MMIc4hyPdpRXyTuX3bLdtuXecJiMaEaQ7l1rMuWQ9QSaBgZx/wP3TYJi38CT52OGCz629/y7f+I5tu67Zu++/tD5aj98A0XNFDAAAAAElFTkSuQmCC"},28:function(e,t,a){e.exports=a(40)},33:function(e,t,a){},34:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),l=(a(33),a(4)),i=a(14),s=(a(34),a(5)),u=a(6),m=a(8),h=a(7),d=a(9),p=a(24),E=a.n(p),f=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e="";return sessionStorage.loggedIn&&(e=r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",null,r.a.createElement(l.b,{to:"/dashboard",className:"nav-link"},"Dashboard")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/cars",className:"nav-link"},"Cars")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/bookings",className:"nav-link"},"Bookings")),r.a.createElement("li",{className:"pull-right"},r.a.createElement(l.b,{to:"/logout",className:"nav-link"},"Logout"))))),r.a.createElement("header",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("div",{className:"logo-sec"},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:E.a,alt:"logo"})))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"social-links"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},e)))}}]),t}(n.Component),g=a(3),b=a(16),v=(a(22),new(function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"checkLoggedIn",value:function(e){"true"!==sessionStorage.getItem("loggedIn")&&e.props.history.push("/login")}}]),e}())),C=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(m.a)(this,Object(h.a)(t).call(this,e)),v.checkLoggedIn(Object(g.a)(a)),a.state={cars:[]},a.dataN="",a.getCars=a.getCars.bind(Object(g.a)(a)),a.getCars().then(function(e){a.setState({cars:e})}),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"getCars",value:function(){return new Promise(function(e,t){fetch("http://18.216.56.178:3001/api/cars",{method:"GET",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return e}).then(function(t){e(t)}).catch(function(e){t(e)})})}},{key:"componentWillMount",value:function(){var e=this;this.getCars().then(function(t){e.setState({cars:t})})}},{key:"getEditLink",value:function(e){console.log(e);var t="/car/edit/"+e;return r.a.createElement(l.b,{to:t},"Edit")}},{key:"getDeleteLink",value:function(e){var t="/car/delete/"+e;return r.a.createElement(l.b,{to:t},"Delete")}},{key:"render",value:function(){var e=this,t=[{Header:"Registration Number",accessor:"reg_number"},{Header:"Status",accessor:"status"},{Header:"Model",accessor:"model"},{Header:"Make",accessor:"make"},{Header:"Power Window",accessor:"power_window"},{Header:"Auto",accessor:"auto"},{Header:"Chauffeur",accessor:"chauffeur"},{Header:"Year",accessor:"year"},{id:"edit_{_id}",Header:"Edit",accessor:function(t){return e.getEditLink(t._id)}},{id:"delete_{_id}",Header:"Delete",accessor:function(t){return e.getDeleteLink(t._id)}}],a=this.state.cars.map(function(e,t){var a="/car/edit/"+e._id,n="/car/delete/"+e._id;return e.edit=r.a.createElement(l.b,{to:a,key:e._id},"Edit"),e.delete=r.a.createElement(l.b,{to:n,key:e._id},"Delete"),e});return console.log(a),console.log(t),r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h2",null,"Cars ",r.a.createElement("span",{className:"add-link"},r.a.createElement(l.b,{to:"/car/add"},"Add"))),r.a.createElement(b.a,{data:a,columns:t,defaultPageSize:10,minRows:3}))))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).getMake=function(){return new Promise(function(e,t){fetch("http://18.216.56.178:3001/api/make").then(function(e){return e.json()}).then(function(e){return e}).then(function(t){e(t)}).catch(function(e){t(e)})})},a.getModel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(t,a){""===e?fetch("http://18.216.56.178:3001/api/model").then(function(e){return e.json()}).then(function(e){return e}).then(function(e){t(e)}).catch(function(e){a(e)}):fetch("http://18.216.56.178:3001/api/model/"+e).then(function(e){return e.json()}).then(function(e){return e}).then(function(e){t(e)}).catch(function(e){a(e)})})},a.addCar=function(e){return new Promise(function(t,a){fetch("http://18.216.56.178:3001/api/car/add",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return e}).then(function(e){t(e)}).catch(function(e){a(e)})})},a.handleChange=function(e){var t=e.target.name,n=e.target.value,r=a.state.car;r[t]=n,a.setState({car:r}),"make"===e.target.name&&a.getModel(e.target.value).then(function(e){a.setState({models:e})})},a.handleSubmit=function(e){e.preventDefault(),a.addCar(a.state.car).then(function(e){"Car Added"===e.status&&a.props.history.push("/cars")})},a.state={car:{reg_number:"",make:"",model:"",year:"",power_window:"",auto:"",chauffeur:"",status:""}},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a.addCar=a.addCar.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.getMake().then(function(t){e.setState({manufacturer:t})}),this.getModel().then(function(t){e.setState({models:t})})}},{key:"render",value:function(){var e="",t="",a=this.state.manufacturer?this.state.manufacturer:[],n=this.state.models?this.state.models:[];return"undefined"!==typeof a&&a.length>0&&(e=a.map(function(e,t){return""!==e?r.a.createElement("option",{key:t,value:e},e):""})),"undefined"!==typeof n&&n.length>0&&(t=n.map(function(e,t){return""!==e?r.a.createElement("option",{key:t,value:e.model},e.model):""})),r.a.createElement("div",null,r.a.createElement("h2",null,"Add Car"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("p",null,r.a.createElement("input",{type:"hidden",name:"_id",onChange:this.handleChange})),r.a.createElement("p",null,r.a.createElement("input",{type:"text",name:"reg_number",onChange:this.handleChange,placeholder:"Registration Number"})),r.a.createElement("p",null,r.a.createElement("select",{name:"make",onChange:this.handleChange,placeholder:"Make"},r.a.createElement("option",null,"select"),e)),r.a.createElement("p",null,r.a.createElement("select",{name:"model",onChange:this.handleChange,placeholder:"Model"},r.a.createElement("option",null,"select"),t)),r.a.createElement("p",null,r.a.createElement("input",{type:"text",name:"year",onChange:this.handleChange,placeholder:"Year"})),r.a.createElement("p",null,r.a.createElement("input",{type:"text",name:"power_window",onChange:this.handleChange,placeholder:"Power Window"})),r.a.createElement("p",null,r.a.createElement("input",{type:"text",name:"auto",onChange:this.handleChange,placeholder:"Auto"})),r.a.createElement("p",null,r.a.createElement("input",{type:"text",name:"chauffeur",onChange:this.handleChange,placeholder:"Owner"})),r.a.createElement("p",null,r.a.createElement("select",{name:"status",onChange:this.handleChange,placeholder:"Status"},r.a.createElement("option",{value:"Free"},"Free"),r.a.createElement("option",{value:"Booked"},"Booked"))),r.a.createElement("p",null,r.a.createElement("button",{type:"submit"},"Save")," ")))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).getCar=function(){var e=a.props.match.params.id;return new Promise(function(t,a){fetch("http://18.216.56.178:3001/api/car/"+e,{method:"GET",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return e}).then(function(e){t(e)}).catch(function(e){a(e)})})},a.getMake=function(){return new Promise(function(e,t){fetch("http://18.216.56.178:3001/api/make").then(function(e){return e.json()}).then(function(e){return e}).then(function(t){e(t)}).catch(function(e){t(e)})})},a.getModel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(t,a){""===e?fetch("http://18.216.56.178:3001/api/model").then(function(e){return e.json()}).then(function(e){return e}).then(function(e){t(e)}).catch(function(e){a(e)}):fetch("http://18.216.56.178:3001/api/model/"+e).then(function(e){return e.json()}).then(function(e){return e}).then(function(e){t(e)}).catch(function(e){a(e)})})},a.updateCar=function(e){var t=a.props.match.params.id;return new Promise(function(a,n){fetch("http://18.216.56.178:3001/api/car/update/"+t,{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return e}).then(function(e){a(e)}).catch(function(e){n(e)})})},a.handleChange=function(e){var t=e.target.name,n=e.target.value,r=a.state.car;r[t]=n,a.setState({car:r}),"make"===e.target.name&&a.getModel(e.target.value).then(function(e){a.setState({models:e})})},a.handleSubmit=function(e){e.preventDefault(),a.updateCar(a.state.car).then(function(e){console.log(),"Car Updated"===e.status&&a.props.history.push("/cars")})},a.state={car:{reg_number:"",make:"",model:"",year:"",power_window:"",auto:"",owner:"",status:""}},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.getMake().then(function(t){e.setState({manufacturer:t})}),this.getModel().then(function(t){e.setState({models:t})}),this.getCar().then(function(t){e.setState({car:t})})}},{key:"render",value:function(){var e=this,t=["Free","Booked"].map(function(t,a){return e.state.car.status===t?r.a.createElement("option",{key:a,value:t,selected:!0},t):r.a.createElement("option",{key:a,value:t},t)}),a="",n="",c=this.state.manufacturer?this.state.manufacturer:[],o=this.state.models?this.state.models:[];return"undefined"!==typeof c&&c.length>0&&(a=c.map(function(t,a){return t===e.state.car.make?r.a.createElement("option",{key:a,value:t,selected:!0},t):r.a.createElement("option",{key:a,value:t},t)})),"undefined"!==typeof o&&o.length>0&&(n=o.map(function(t,a){return t.model===e.state.car.model?r.a.createElement("option",{key:a,value:t.model,selected:!0},t.model):r.a.createElement("option",{key:a,value:t.model},t.model)})),r.a.createElement("div",null,r.a.createElement("h2",null,"Edit Car"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("p",null,r.a.createElement("input",{type:"hidden",name:"_id",value:this.state.car._id,onChange:this.handleChange})),r.a.createElement("p",null,r.a.createElement("input",{type:"text",name:"reg_number",value:this.state.car.reg_number,onChange:this.handleChange})),r.a.createElement("p",null,r.a.createElement("select",{name:"make",onChange:this.handleChange,placeholder:"Make"},r.a.createElement("option",null,"select"),a)),r.a.createElement("p",null,r.a.createElement("select",{name:"model",onChange:this.handleChange,placeholder:"Model"},r.a.createElement("option",null,"select"),n)),r.a.createElement("p",null,r.a.createElement("input",{type:"text",name:"year",value:this.state.car.year,onChange:this.handleChange})),r.a.createElement("p",null,r.a.createElement("input",{type:"text",name:"power_window",value:this.state.car.power_window,onChange:this.handleChange})),r.a.createElement("p",null,r.a.createElement("input",{type:"text",name:"auto",value:this.state.car.auto,onChange:this.handleChange})),r.a.createElement("p",null,r.a.createElement("input",{type:"text",name:"owner",value:this.state.car.owner,onChange:this.handleChange})),r.a.createElement("p",null,r.a.createElement("select",{name:"status",onChange:this.handleChange},t)," "),r.a.createElement("p",null,r.a.createElement("button",{type:"submit"},"Save")," ")))}}]),t}(n.Component),k=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Delete Car"))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(m.a)(this,Object(h.a)(t).call(this,e)),v.checkLoggedIn(Object(g.a)(a)),a.state={cars:[]},a.dataN="",a.getCars=a.getCars.bind(Object(g.a)(a)),a.getCars().then(function(e){a.setState({cars:e})}),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"getCars",value:function(){return new Promise(function(e,t){fetch("http://18.216.56.178:3001/api/cars",{method:"GET",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return e}).then(function(t){e(t)}).catch(function(e){t(e)})})}},{key:"componentWillMount",value:function(){var e=this;this.getCars().then(function(t){e.setState({cars:t})})}},{key:"getEditLink",value:function(e){console.log(e);var t="/car/edit/"+e;return r.a.createElement(l.b,{to:t},"Edit")}},{key:"getDeleteLink",value:function(e){var t="/car/delete/"+e;return r.a.createElement(l.b,{to:t},"Delete")}},{key:"render",value:function(){var e=this,t=[{Header:"Registration Number",accessor:"reg_number"},{Header:"Status",accessor:"status"},{Header:"Model",accessor:"model"},{Header:"Make",accessor:"make"},{Header:"Power Window",accessor:"power_window"},{Header:"Auto",accessor:"auto"},{Header:"Owner",accessor:"owner"},{Header:"Year",accessor:"year"},{id:"edit_{_id}",Header:"Edit",accessor:function(t){return e.getEditLink(t._id)}},{id:"delete_{_id}",Header:"Delete",accessor:function(t){return e.getDeleteLink(t._id)}}],a=this.state.cars.map(function(e,t){var a="/car/edit/"+e._id,n="/car/delete/"+e._id;return e.edit=r.a.createElement(l.b,{to:a,key:e._id},"Edit"),e.delete=r.a.createElement(l.b,{to:n,key:e._id},"Delete"),e});return console.log(a),console.log(t),r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h2",null,"Bookings ",r.a.createElement("span",{className:"add-link"},r.a.createElement(l.b,{to:"/car/add"},"Add"))),r.a.createElement(b.a,{data:a,columns:t,defaultPageSize:10,minRows:3}))))}}]),t}(n.Component),O=a(27),S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(O.a)({},e.target.id,e.target.value)),console.log(a.state)},a.state={email:"",password:""},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={email:this.state.email,password:this.state.password};fetch("http://18.216.56.178:3001/api/login/",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){e.json().then(function(e){"undefined"!=typeof e?e.success?(sessionStorage.setItem("loggedIn","true"),t.props.history.push("/dashboard")):document.getElementById("login-Form-Status").innerHTML=e.error:console.log(e)})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"LoginForm"},r.a.createElement("h2",null,"Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("p",{id:"login-Form-Status"}),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",name:"email",onChange:this.handleChange,value:this.state.email})),r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",onChange:this.handleChange,value:this.state.password})),r.a.createElement("p",null,r.a.createElement("button",{type:"submit"},"Submit"),r.a.createElement("span",{className:"text-right"},r.a.createElement(l.b,{to:"/reset"},"Forgot Password")))))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(m.a)(this,Object(h.a)(t).call(this,e)),v.checkLoggedIn(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h2",null,"Dashboard"),r.a.createElement("p",null,"lipsum content goes here."))))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(s.a)(this,t),a=Object(m.a)(this,Object(h.a)(t).call(this,e)),sessionStorage.setItem("loggedIn","false"),sessionStorage.removeItem("loggedIn"),v.checkLoggedIn(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h2",null,"Dashboard"),r.a.createElement("p",null,"lipsum content goes here."))))}}]),t}(n.Component);var I=function(){return r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(f,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:A}),r.a.createElement(i.a,{path:"/login",component:S}),r.a.createElement(i.a,{path:"/logout",component:M}),r.a.createElement(i.a,{path:"/dashboard",component:A}),r.a.createElement(i.a,{path:"/cars",component:C}),r.a.createElement(i.a,{path:"/car/add",component:y}),r.a.createElement(i.a,{path:"/car/edit/:id",component:j}),r.a.createElement(i.a,{path:"/car/delete/:id",component:k}),r.a.createElement(i.a,{path:"/bookings",component:w}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.04c04261.chunk.js.map